<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/icon.svg" />
    <link rel="stylesheet" href="/src/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo</title>
  </head>
  <body
    class="bg-neutral-100 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-100 py-12 px-5"
  >
    <h1 class="text-4xl font-bold text-center"></h1>

    <div class="my-6 mx-auto max-w-3xl grid gap-5">
      <div
        id="map"
        class="h-[600px] xl:h-[800px] max-h-screen rounded xl:-mx-36 2xl:-mx-48 my-5 overflow-hidden"
      ></div>

      <p>
        You can pre-select a given area by adding a
        <code>data-area</code> parameter to the embed code like this:
      </p>

      <!-- prettier ignore -->
      <pre
        class="bg-neutral-200 dark:bg-black p-5 font-mono rounded text-sm overflow-x-auto"
      ></pre>

      <p>
        <a href="/" class="text-blue-600 dark:text-blue-400 underline"
          >Go back</a
        >
      </p>
    </div>

    <a
      href="https://code4recovery.org"
      class="block size-36 mx-auto my-16 p-4"
      target="_blank"
    >
      <img src="/code-for-recovery.svg" alt="Code for Recovery Logo" />
    </a>

    <script>
      const area =
        parseInt(new URLSearchParams(window.location.search).get("area")) || 1;

      document.getElementById("map").setAttribute("data-area", area);

      const titleText = `Area ${area.toString().padStart(2, "0")} Example`;
      document.title = titleText;
      document.querySelector("h1").textContent = titleText;

      const embedText = `<script src="https://area-map.netlify.app/app.js" type="module" async><\/script>\n<div id="map" data-area="${area}"></div>`;

      document.querySelector("pre").textContent = embedText;
    </script>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
